language: python
python:
  - '3.6'
before_install:
  - openssl aes-256-cbc -K $encrypted_7c351865ac1b_key -iv $encrypted_7c351865ac1b_iv
    -in secrets.tar.enc -out secrets.tar -d
  - tar xvf secrets.tar
  - mv google_compute_engine /home/travis/.ssh/
  - chmod 0600 /home/travis/.ssh/google_compute_engine
install:
  - pip install ansible>=2.4 molecule apache-libcloud
script:
  - molecule create
  - molecule converge
  - molecule verify
after_script:
  - molecule destroy
notifications:
  slack:
    rooms:
      secure: ZnoJAvFUMuvn7T50amKO2EWISzmh0CjZU9wV67Yts1+gZXmjq3tPSP00fyZ9ZAKFCt9C4K1nqUbHI/VkoUM9SUOggD9+K8dhYtNtOrFiMEwuqSQVymOuime28u1goFtd8H/mMxOCUXNUZsPzHv2yHUyAigHzIDOzp2vBBQxPuIMN7j1x0HIyPeeS/b6Sd/6+uoCJDOZ7ZDDRi/yKplplKenIuzpUR1uMI8MQ+Sp9a2mlZBsm/AliXxjjVwbBWrStw9cvbs+fRQzJITMtRzmFHYVYeBQefm019I7KXB9EHQzwr/T4Fp8vlo9/xHIrHaX7v5JdvS6kUn4f+uoI2YmL++X+axf6SyrBdEvQQVNiH5kW16KpHyl7qu9hKTye6pdzKUXJ6FxKfyaRT9ooKmntr5I7J1ulBu+SXM/vRrIb2kUnxY4kCJKPy6kdNUD/Oz57d0pJt8chHEzXy7tTGOT84Zu6U4QwqSqtBvVrlgxiZ0bSkBX9afuHLZcY2Fs9deiNJp82wN9OXsFOihjjjhZWrvt+hk07z9jdVuplN5N1/uCPC0Bc4L3FZrJgixVjJVpyvviq6YUqTa+RxxRDHJ2t/MUUzuR93P9mYCp8yCRSwbE2vFP6orf5/I+vLVInY3zJNOhT6hXzIHDTkem0+UXPunpckKcSWM76/CZMRPRYas8=
env:
  global:
  - secure: K79FpdtWVxFc9fLrhdNI8e6SmM7xijrIl/QqGq8kD+wtDcT0F4r0Th2OhVZCMW4avWxCmOCWttxfoqY+v3MFTjYsWqCw0Y8fUvXxT3Zc6dn5LuiGIoCcgKtFqcolx5VCDphJtPTRT5R5C5cfqhbseMzNd0FhqcyjYmOojYPrjt+KjtrwQAZ2l+Wsb+AJZ2Txjc1lgtQz4oLJTb8OMGrLIgRrB6LSCUjWOs6gjt21iUuzL7emIY4VDT70O7UhRmlaDcksNQ4UkKl/vNdxkTdEJJRuTvPsFovAN1C2awapCGudVfgcAaFeKt2uDcVsfl6B+fHznK5+uGntIcSCTSRwat7AJob+keOuJdNOzKuB0SOv5kAQfPk97HGvK7lwOwa9l5GajncposcXH4ItSYBKjbGawNEYa8dk5/0wVxqNceUzwbcnW5m4WKFgkVCSrjGFAdHLGC2Wo7NKw4NuVs8idBglNew8pcCe/XQdSdDxHknKqw0fHkJ6LIdZVa2Np3uP1ba/PjvTdexPKfVsqUI+3SdhUz87iazQZobyBfhbKndGiHw+UGwcnHqOxntXBNZFetsGQbkVxw/5jr04/wLEXWtrdhkmR1VEqhgqhQgzLQS2GrWDEw0axmsq9CK826R0+6J1C4QEIx+FZTS+aQcAR3RPTjyYHLzbFwZGI2Ed97M=
  - secure: CpbmLZbEoZN7K9gypyJ4U1g9sJiiEtqzQFwOKSNxq8ChmC/qMmMm0pH1SA8AdRFwGxseJc6PmNTzwlSNOHL439lWMhwkCY0nHNjrwYEbtWR4ekUM91Fwj/oAS9EMqDHrhaI+c0Vo+fBEBRVO8jVBupETWJj3DpJUQNbbCgSGmRkQoJD6bkH8sH5Rd9mQPIjlUdeikqPbqyu0whMFLFE4PgIMSW6G/xzjBc+SdzA0EosNHMiwNi29CWNBAs3H8FdtauOpiouFPSYwMJl2WdpZ2jvOwK3eaVsrdOss3W6gpqUlCE+pg5S9tHFxOEnv6cWxOY48im60p2nDL4+wwH22V/cVMobXgH5WZFHNXp4Vjyu1pvp7MDc/PMzNeDNYmzpRSC1P+JpNBVH0CLaOUMiq5E55RIYqRhECTFNpsFhDJURUN4fXDMJgx1MumbBjGeloLBaKtVj3K4qU7O60hBmPjWiuLp6401wAWF48/0IQL5AActqL0eVtFMeTHUOdGxGX7rcXNcVx6SXqJp9UerzZesFEnJUp5bHxD++oR0Kq50eHx6D0JON2xaCKxPXDYOLclz0tA1E71feEcpvOwDuim9k9ii4/aIQZBaqHPcFWiqqBhO6Q+lqPU/l16ha41DmWjjLEScsvQa2ZmvQsTIw99yDgZQ56I89xhdrGOppEmdk=
  - secure: dmkBU9awHt67Q0ToQ9mVmf5HPU1i1op/XPL9hXViMSNM0mZvOoOIbdnKrOakYBZ6jzpX2P6IIz7r/KO8eFXFEG7ffCTFYGCWsWrb1lHEG1Sy6Lo4j1xlrIP4uBw32CuBxUaDR2f2PFu7Bv/RQ4HDgWOhXUK9AsTTs7mR9WSidLxSl4nN7ZQkxWf4fJme/brd5Jb7sVopbpbZ+0mRSWPcE1A5eK1Yf5/Rs4CnkD69kSoI6QXSC+zRMyeZQHrtFe7aZLNz13p3xp87jpK8DplxS7QuRH11mM2JO92ibNI/2L4o5F8jscRwrXXj2DSqhAXHIohnHo0y6Ksfy2+ruDmCmLQhnEJN8yoiI5TnpmyHQaGcXSezILa1TpyWKG8sEpRRlJUFk2laWG1Tq7HppitkPXcwc5taYzciAQNDTleergFpFiGemCN5XLPG7DNO/fw54hgcCaicLjY9HDCkM4xdyxgzbfA3abSU0gQgMAvn2Q1Bj1Z2AASp9zG/JYS3cdahLrZEq+32rgZCx4hfR74oXXQpk3/NLqDb+/kBo0CBe389dJ2SdbufHXo9J8rUm4KZeMye8vu+D54GU/NEGCVXWD2OX+hUz2dvXsoXnjmVC6IYp/os4ELBbonYCP60WBjHZAR+h7ci0rq51wXLMXUZAfG/DP1VJwtEL1/s4/XyXVw=
